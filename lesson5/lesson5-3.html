<!doctype html> 
<html ng-app='myApp'>
    <head>
        <title>路由 - ngRoute - 刷新页面</title>
        <meta name='description' content='augnular 权威指南 学习版本1.2.26'>
        <link rel="stylesheet" href="/angular/docs/components/bootstrap-3.1.1/css/bootstrap.css">

        <script src='../../angular.js'></script>
        <script src='../../angular-route.js'></script>

        <script>
        var app = angular.module('myApp',['ngRoute']);
        app.config(['$locationProvider', function ($locationProvider) {
            /**
             * 显式指定 路由模式，默认为 hashbang
             */
            $locationProvider.html5Mode(false);    // 显式指定 标签模式 hashbang
            $locationProvider.hashPrefix('!');     // #！ 配置 比较老的浏览器的降级处理

        }]);
        app.config(['$routeProvider', function ($routeProvider) {
            $routeProvider
                .when('/',{
                    templateUrl:'view/home.html'
                })
                // index/all
                .when('/inbox/:name',{ // 路径转化为 {name: all}
                    template: 'IS Template' 
                })
                //默认，以及找不到匹配的 #路径
                .otherwise({redirectTo:'/'});
        }]);

        app.run(['$window',function ($window){
            //切换url
            $window.location.href = '#!/inbox/name';
        }]);
        </script>

    </head>
    <body>
        <header>
            <h1>HEAD</h1>
        </header>
        <div class="content">
            <a href="#!/inbox/all">切换inbox</a>
            <a href="#!/">切换HOME</a>
            <div ng-view></div>
        </div>
        <footer>
            <h5>FOOT</h5>
        </footer>
    </body>
    <script>

    </script>
</html>

