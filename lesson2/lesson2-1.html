<!doctype html> 
<html>
	<head>
		<title>augnular 权威指南 测试版本1.2.26</title>
	</head>
	<body>
		<div ng-app ='myApp'>
				<h1> 手动解析表达式 </h1>
				<div ng-controller='MyController'>
					<input type="text" ng-model="expr" placeholder='enter an expression'>
					<h3> {{parsedValue}}</h3>
					<h5> new:{{newVal}} || old:{{oldVal}}</h5>
				</div>
				
		</div>
	</body>
	<!-- js文件应该独立出来 -->
	<script src='/angular.js'></script>
	<script>
	//手动解析表达式 ??????????????/
	var app = angular.module('myApp',[]);
	app.controller('MyController',function($scope, $parse){
		$scope.$watch('expr', function(newVal, oldVal, scope){
			if(newVal !== oldVal){
				var parseFun = $parse(newVal);
				$scope.parsedValue = parseFun(scope);
				$scope.newVal = newVal;
				$scope.old = oldVal;
			}
		});
	});
	</script>
</html>